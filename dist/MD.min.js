!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).MD=e()}(this,(function(){"use strict";function t(e,n){return(t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(e,n)}function e(n,r,i){return(e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(e,n,r){var i=[null];i.push.apply(i,n);var s=new(Function.bind.apply(e,i));return r&&t(s,r.prototype),s}).apply(null,arguments)}function n(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=e(Date,r);return Object.setPrototypeOf(s,n.prototype),s}function r(t,e){var n=t.value;return this.init(t,n,e)}return Object.setPrototypeOf(n.prototype,Date.prototype),Object.assign(n.prototype,{getMyMount:function(){return this.getMonth()+1},addYear:function(t){return this.setYear(this.getFullYear()+t),this},addMonth:function(t){return this.setMonth(this.getMonth()+t),this},addDays:function(t){return this.setTime(this.getTime()+864e5*t),this},addHours:function(t){return this.setTime(this.getTime()+36e5*t),this},addMinutes:function(t){return this.setTime(this.getTime()+6e4*t),this},addSeconds:function(t){return this.setTime(this.getTime()+1e3*m),this},to_str:function(t){t=t||"Y-m-d H:i:s";var e=function(t){return("0"+t).slice(-2)},n=this.getDate(),r=this.getMyMount(),i=this.getFullYear(),s=this.getHours(),a=this.getMinutes(),o=this.getSeconds(),u=s>=12?"pm":"am",c=u.toUpperCase(),l=s%12||12,d=s,p=e(l),h=e(s),f=e(a),m=e(o),g=n,v=e(n),y=r,M=e(r),_=i,b=(""+_).substr(2,2);return t=t.replace("g",l).replace("G",d).replace("h",p).replace("H",h).replace("i",f).replace("s",m).replace("j",g).replace("d",v).replace("n",y).replace("m",M).replace("y",b).replace("Y",_).replace("a",u).replace("A",c)}}),r.SubDate=n,Object.assign(r.prototype,{init:function(t,e,r){var i=this;return i.params=function(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=function(){var e=a[s];Object.keys(e).forEach((function(n){t[n]=e[n]}))},s=0,a=n;s<a.length;s++)i();return t}({},r),i.input=t,i.ts=new n(e),i.list_attr={y:{get:"getFullYear",set:"addYear"},m:{get:"getMyMount",set:"addMonth"},d:{get:"getDate",set:"addDays"},h:{get:"getHours",set:"addHours"},i:{get:"getMinutes",set:"addMinutes"}},r.type&&"date"==r.type?(delete i.list_attr.h,delete i.list_attr.i):r.type&&"time"==r.type&&(delete i.list_attr.y,delete i.list_attr.m,delete i.list_attr.d),i.createDOM(),i.list_dom={},Object.keys(i.list_attr).forEach((function(t){i.list_dom[t]=i.element.querySelectorAll('.e[data-id="'+t+'"] .val')[0]})),i.eventsListner(),i},eventsListner:function(){var t=this;function e(e){var n=e.target.parentNode;if(n.classList.contains("e")){e.preventDefault();var r=e.wheelDelta>0?1:-1;t.update(n.getAttribute("data-id"),r)}}return t.element.addEventListener("click",(function(e){var n=e.target,r=function(t){return e.target.parentNode.getAttribute("data-id")};n.classList.contains("up")?t.update(r(),1):n.classList.contains("down")&&t.update(r(),-1)}),!1),t.element.addEventListener("mousewheel",e,{passive:!1}),t.element.addEventListener("DOMMouseScroll",e,{passive:!1}),t},highlight:function(t){t.classList.remove("highlight"),t.offsetWidth,t.classList.add("highlight")},update:function(t,e){return this.ts[this.list_attr[t].set](e),this.view()},view:function(){var t=this;return Object.keys(t.list_attr).forEach((function(e){t.list_dom[e].innerHTML=t.ts[t.list_attr[e].get]()})),t.input.value=t.ts.to_str(t.params&&t.params.pattern),t},createDOM:function(){var t=document.createElement("div");return t.classList.add("yjsdate"),t.classList.add("clearfix"),Object.keys(this.list_attr).forEach((function(e){var n=document.createElement("div");n.className="e",n.setAttribute("data-id",e);var r=document.createElement("div");r.className="up",r.innerHTML="+",n.appendChild(r);var i=document.createElement("div");i.className="val",n.appendChild(i);var s=document.createElement("div");s.className="down",s.innerHTML="-",n.appendChild(s),t.appendChild(n)})),this.input.parentNode.insertBefore(t,this.input.nextSibling),this.element=t,this}}),r}));
